<template>
    <Card :style="{'background-color': colors[functions.RandomNumber(0, colors.length-1)]}" class="warehouse-card">
        <h1>{{ repository.name }}</h1>
        <small>
            <span>
                <svg aria-hidden="true" data-view-component="true" height="16" version="1.1" viewBox="0 0 16 16"
                     width="16">
                    <path
                        d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"
                        fill-rule="evenodd">
                    </path>
                </svg>
                {{ repository.stargazers_count + ' star / ' }}
            </span>
            <span>
                <svg aria-hidden="true" data-view-component="true" height="16" version="1.1"
                     viewBox="0 0 16 16" width="16">
                    <path
                        d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"
                        fill-rule="evenodd">
                    </path>
                </svg>
                {{ repository.forks_count + ' fork / ' }}
            </span>
            <span>
                <svg aria-hidden="true" data-view-component="true" height="16" version="1.1" viewBox="0 0 16 16"
                     width="16">
                    <path
                        d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"
                        fill-rule="evenodd">
                    </path>
                </svg>
                {{ repository.watchers_count + ' watch' }}
            </span>
        </small>
        <div class="warehouse-card-description">
            <p class="multiple-lines-show">{{ repository.description ?? '暂无介绍' }}</p>
        </div>
        <span class="warehouse-card-time">
            <svg class="icon" height="200" p-id="2657" t="1649980705565"
                 version="1.1" viewBox="0 0 1024 1024" width="200" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M512.736 992a483.648 483.648 0 0 1-164.672-28.8 36.88 36.88 0 1 1 25.104-69.36 407.456 407.456 0 1 0-184.608-136.512A36.912 36.912 0 0 1 129.488 801.6a473.424 473.424 0 0 1-97.472-290A480 480 0 1 1 512.736 992z"
                    p-id="2658">
                </path>
                <path
                    d="M685.6 638.592a32 32 0 0 1-14.032-2.96l-178.048-73.888a36.8 36.8 0 0 1-22.912-34.016V236.672a36.944 36.944 0 1 1 73.888 0v266.72l155.2 64.272a36.336 36.336 0 0 1 19.952 48 37.616 37.616 0 0 1-34.048 22.928z"
                    p-id="2659">
                </path>
            </svg>
            <small>{{ moment(repository.updated_at).format('Y-M-D') }}</small>
        </span>
        <el-button class="warehouse-card-visit" round @click="OpenWebPage(repository.html_url)">
            <svg class="icon" height="200" p-id="10740" t="1649981520109"
                 version="1.1" viewBox="0 0 1024 1024" width="200" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M836.294944 346.540597h-2.541893c-18.721387 0-34.07712 5.369288-48.860824 14.532995-12.958126-37.764092-45.890166-64.969711-88.308255-64.96971-18.721387 0-36.619012 5.369288-51.402717 14.532994-12.958126-37.765115-45.890166-64.968687-88.344071-64.968687-16.537651 0-31.930223 4.152577-45.532009 11.419074v-97.185436c0-52.941769-40.055275-95.825462-93.355201-95.825463s-96.540753 42.919509-96.540753 95.825463v372.06083l-58.597583-58.382688c-37.693484-37.44175-104.416118-32.108279-136.524397 0-32.109302 32.109302-53.156664 96.684016-7.194866 142.68163l269.613554 267.823791c5.548366 5.51255 11.669784 10.130731 18.11252 14.031575 49.14735 40.09109 105.490589 63.823608 224.582965 63.823607 272.082792 0 297.283754-146.798391 297.283753-327.852979v-191.685717c-0.037862-52.941769-39.054481-95.861278-92.390223-95.861279m41.522696 287.51118c0 153.205311-0.716314 277.417287-246.454088 277.417287-104.093776 0-166.593226-23.195282-213.950814-70.231551L162.188916 587.697029c-22.586414-22.586414-16.894785-51.438533 1.574868-69.945025 18.470677-18.470677 52.404534-19.114336 70.266344-1.39579 0 0 44.780903 44.494377 83.368756 82.867336a83728.374434 83728.374434 0 0 0 54.838979 54.516638V169.996742c0-25.056676 20.475334-45.388746 45.746903-45.388746 25.27157 0 42.525536 20.332071 42.525536 45.388746v307.699988h0.50142a25.933649 25.933649 0 0 0-0.50142 5.046946c0 13.924127 11.383258 25.235754 25.414833 25.235754 14.031575 0 25.414833-11.275811 25.414833-25.235754 0-1.718131-0.179079-3.400446-0.501421-5.046946h0.501421V351.588567c0-25.056676 18.255783-45.388746 43.527352-45.388746 0 0 44.744064-0.608867 44.744063 45.388746v166.449963h0.501421a25.933649 25.933649 0 0 0-0.501421 5.046946c0 13.925151 11.383258 25.235754 25.414833 25.235754 14.031575 0 25.414833-11.275811 25.414833-25.235754 0-1.718131-0.179079-3.400446-0.50142-5.046946h0.50142V402.02426c0-25.056676 17.969257-45.388746 43.240827-45.388747 0 0 45.675272 2.864234 45.675272 45.388747V548.32123h0.50142a25.933649 25.933649 0 0 0-0.50142 5.046946c0 13.924127 11.383258 25.235754 25.414833 25.235755 14.031575 0 24.77015-11.275811 24.770149-25.235755 0-1.718131-0.179079-3.400446-0.465604-5.046946h0.465604v-99.869568c0-25.057699 18.828834-45.388746 44.100404-45.388747 0 0 44.279483-1.789763 44.279483 45.388747v185.601138h-0.104377M283.715737 302.798351"
                    p-id="10741">
                </path>
            </svg>
            <p>访问</p>
        </el-button>
    </Card>
</template>

<script setup>
import moment from "moment";
import Card from "@/components/Card.vue";

defineProps({
    //存储库
    repository: {type: Object, default: null},
});


//卡片颜色
let colors = [
    '#2a9dc9', '#ca4905', '#ad8609',
    '#1bab65', '#5ca603', '#16c397',
    '#0e87c0', '#3e5abb', '#b300be',
];

//打开网页
function OpenWebPage(url, target = '_blank') {
    window.open(url, target);
}

</script>

<style scoped>

</style>